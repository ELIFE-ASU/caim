<!doctype html>
<head>
    <meta charset="UTF-8">
    <title>Caim: Information Theoretic Analysis of Videographic Data</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
    <header>
        <h1>Caim</h1>
    </header>

    <div id="startup">
        <h2>Getting Started</h2>
        <ul>
            <li><a href="#" onclick="new_session();">New Session</a></li>
            <li><a href="#" onclick="open_session();">Open Session</a></li>
        </ul>
    </div>

    <div id="session">
        <h2></h2>
        <div id="import-video">
            <a href="#" onclick="import_video();">Import Video</a>
        </div>
        <div id="selection">
            <p>Select Some Features</p>
        </div>
    </div>

    <footer>
        <p>Copyright Â© 2018, <a href="http://emergence.asu.edu">Emergence@ASU</a></p>
    </footer>

    <script>
        const {ipcRenderer} = require('electron');

        const new_session = () => ipcRenderer.send('new-session');

        const open_session = () => ipcRenderer.send('open-session');

        const import_video = () => ipcRenderer.send('import-video');

        ipcRenderer.on('load-session', function(event, path, video) {
            d3.select("#startup").style('display', 'none');
            d3.select("#session").style('display', 'block');
            d3.select("#session").select("h2")
                .text(() => `Session Path: ${path}`);
            if (video === undefined || video === null) {
                d3.select("#import-video").style('display', 'block');
            } else {
                d3.select("#selection").style('display', 'block')
            }
        });

        ipcRenderer.on('load-selector', function (event) {
            d3.select("#import-video").style('display', 'none');
            d3.select("#selection").style('display', 'block');
        });
    </script>
</body>
</html>
